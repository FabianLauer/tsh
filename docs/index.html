<!DOCTYPE html>
<html>

<head>
	<title>Demo</title>
	<meta charset="utf-8" />
	<link rel="stylesheet" type="text/css" href="./demo.css" />
</head>

<body>
	<section id="editor-panel" class="panel">
		<div id="source-container" class="editor"></div>
		<div id="compiled-container" class="editor"></div>
	</section>

	<section id="problems-panel" class="panel">
		<h3>Problems</h3>
		<div id="problems-panel-content"></div>
	</section>

	<section id="output-panel" class="panel">
		<h3>Output</h3>
		<code id="output-panel-content"></code>
	</section>


	<!-- Fork me on GitHub -->
	<a class="github-ribbon" href="https://github.com/FabianLauer/tsh">
		<img src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67"
		 alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
	</a>


	<!-- JS -->
	<script src="./static/compiler.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/js-beautify/1.6.12/beautify.min.js"></script>
	<script src="monaco-editor/vs/loader.js"></script>
	<script src="./demo.js"></script>
	<script>
		// Call the main function:
		main();


		/// Functions needed by `demo.js`:


		function _new(constructor, arg1, arg2, arg3, arg4, arg5) {
			return new constructor(arg1, arg2, arg3, arg4, arg5)
		}


		function runJavaScript(jsCode) {
			return new Function(jsCode)();
		}


		function createJSArray(item) {
			return new Array(item)
		}


		function getSampleCode() {
			return [
				'//',
				'//                          DEMO',
				'//           - https://github.com/FabianLauer/tsh -',
				'//',
				'// Any code you enter in this window will be compiled to JavaScript on the fly.',
				'// The compiled JavaScript will be executed right away. Use `print(...)` to write.',
				'// to the "Output" console below.',
				'// By the way, the JS code that runs this demo was origininally written in TSH.',
				'//',
				'',
				'',
				'func main() -> Void {',
				'	let personCount = 0',
				'	while (++personCount <= 10) {',
				'		let person = Person()',
				'		print("Person " + person.getId())',
				'',
				'		if personCount <= 9 {',
				'			print(", ")',
				'		}',
				'	}',
				'',
				'}',
				'',
				'class Person {',
				'	static let idCounter = 0',
				'	const id = ++Person.idCounter',
				'',
				'	func getId() -> Number {',
				'		return this.id',
				'	}',
				'}',
				''
			].join('\n')
		}
	</script>

</body>

</html>